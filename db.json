{
  "tourMapData": [
    {
      "type": "object",
      "title": "RouteAnalyzer Map Data (Tour) Model",
      "description": "Draw lines, polygons or similar objects on a map (with annotations)",
      "properties": {
        "tenantId": {
          "type": "string"
        },
        "geoJsonFeatureCollection": {
          "type": "object",
          "description": "Contains location data and additional features to be used in map vizualization"
        }
      },
      "required": ["tenantId"]
    }
  ],

  "systemStatusInfo": [
    {
      "type": "object",
      "title": "RouteAnalyzer System Status Model",
      "description": "Contains data related and server related status information",
      "properties": {
        "serviceStatus": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "serviceName": {
                "type": "string"
              },
              "state": {
                "type": "string",
                "enum": ["available", "limited", "unavailable"]
              },
              "description": {
                "type": "string"
              }
            }
          }
        },
        "dataAvailability": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "dataSource": {
                "type": "string"
              },
              "state": {
                "type": "string",
                "enum": ["available", "stalled", "unavailable"]
              },
              "currentUntil": {
                "type": "string",
                "format": "date-time"
              },
              "description": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  ],
  "notifications": [
    {
      "type": "object",
      "title": "RouteAnalyzer Notification Model",
      "description": "Used to display notifications",
      "properties": {
        "tenantId": {
          "type": "string"
        },
        "creationTimestamp": {
          "type": "string",
          "format": "date-time"
        },
        "state": {
          "type": "string",
          "enum": ["info", "warning", "alert", "success"],
          "default": "info"
        },
        "type": {
          "type": "string",
          "enum": ["information", "action"]
        },
        "htmlCode": {
          "type": "string"
        }
      },
      "required": ["tenantId", "creationTimestamp"]
    }
  ],
  "businessData": [
    {
      "type": "object",
      "title": "RouteAnalyzer Business Data Model",
      "properties": {
        "tenantId": {
          "type": "string"
        },
        "order": {
          "$ref": "#/%24defs/RouteAnalyzer_Order_Model"
        },
        "tourId": {
          "type": "string"
        },
        "vehicle": {
          "type": "object",
          "properties": {
            "objectId": {
              "type": "string"
            },
            "vehicleType": {
              "type": "string"
            },
            "objectGroup": {
              "type": "string"
            },
            "attachedObjects": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "driver": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "day": {
          "type": "string",
          "format": "date"
        },
        "kpi": {
          "$ref": "#/%24defs/RouteAnalyzer_KPI_Model"
        }
      },
      "$defs": {
        "RouteAnalyzer_Order_Model": {
          "type": "object",
          "title": "RouteAnalyzer Order Model",
          "description": "Describes an order record",
          "properties": {
            "tenantId": {
              "type": "string"
            },
            "orderId": {
              "type": "string"
            },
            "type": {
              "type": "string"
            },
            "externalOrderNo": {
              "type": "string"
            },
            "orderDate": {
              "type": "string",
              "format": "date-time"
            },
            "customer": {
              "$ref": "#/%24defs/RouteAnalyzer_Address_Data_Model"
            },
            "designatedObjectId": {
              "type": "string"
            },
            "places": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string"
                  },
                  "address": {
                    "$ref": "#/%24defs/RouteAnalyzer_Address_Data_Model"
                  },
                  "etaFrom": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "etaTo": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "hint": {
                    "type": "string"
                  }
                }
              }
            },
            "goods": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "product": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "packingUnit": {
                    "type": "string"
                  },
                  "externalNumber": {
                    "type": "string"
                  },
                  "weight": {
                    "type": "object",
                    "properties": {
                      "net": {
                        "type": "number"
                      },
                      "gross": {
                        "type": "number"
                      },
                      "unit": {
                        "type": "string",
                        "enum": ["cm", "m"]
                      }
                    }
                  },
                  "dimensions": {
                    "type": "object",
                    "properties": {
                      "length": {
                        "type": "number"
                      },
                      "width": {
                        "type": "number"
                      },
                      "height": {
                        "type": "number"
                      },
                      "cubage": {
                        "type": "number"
                      },
                      "loadingMeter": {
                        "type": "number"
                      },
                      "unit": {
                        "type": "string",
                        "enum": ["cm", "m"]
                      }
                    }
                  },
                  "hint": {
                    "type": "string"
                  },
                  "adr": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "UN": {
                          "type": "string"
                        },
                        "amount": {
                          "type": "number"
                        },
                        "size": {
                          "type": "number"
                        },
                        "unit": {
                          "type": "string"
                        },
                        "multiplier": {
                          "type": "number"
                        },
                        "points": {
                          "type": "number"
                        },
                        "text": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            },
            "billing": {
              "type": "object",
              "properties": {
                "revenues": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "amount": {
                        "type": "number"
                      }
                    }
                  }
                },
                "expenses": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "amount": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            }
          },
          "required": ["tenantId", "orderId"]
        },
        "RouteAnalyzer_Address_Data_Model": {
          "type": "object",
          "title": "RouteAnalyzer Address Data Model",
          "description": "Model for an address",
          "properties": {
            "id": {
              "type": "string"
            },
            "tenantId": {
              "type": "string",
              "description": "Optional. If present, address is only available for a particular tenant"
            },
            "name1": {
              "type": "string"
            },
            "name2": {
              "type": "string"
            },
            "street": {
              "type": "string"
            },
            "houseNo": {
              "type": "string"
            },
            "countryIsoAlpha2": {
              "type": "string",
              "minLength": 2,
              "maxLength": 2
            },
            "postalCode": {
              "type": "string"
            },
            "placeName": {
              "type": "string"
            },
            "geoJsonMultiPolygon": {
              "type": "object",
              "description": "Contains location based information for the address. For example the exact property polygon data for a loading address."
            }
          },
          "required": ["id", "name1"]
        },
        "RouteAnalyzer_KPI_Model": {
          "type": "object",
          "title": "RouteAnalyzer KPI Model",
          "description": "Base model for all kind of KPI, used in several context",
          "properties": {
            "performanceData": {
              "type": "object",
              "description": "Vehicle based performance data",
              "properties": {
                "loadKilometers": {
                  "type": "number",
                  "description": "Means driven kilometers in loaded state"
                },
                "emptyKilometers": {
                  "type": "number",
                  "description": "Means driven kilometers in empty/unloaded state"
                },
                "productiveHours": {
                  "type": "number",
                  "description": "Productive Hours are Driving, Working (Loading/Unloading) and other work related activities"
                },
                "unproductiveHours": {
                  "type": "number",
                  "description": "Unproductive Hours are Waiting Times oder Break-Times required by law"
                }
              }
            },
            "costRates": {
              "type": "object",
              "description": "Cost Rates per Category",
              "properties": {
                "loadKilometerCostRate": {
                  "type": "number"
                },
                "emptyKilometerCostRate": {
                  "type": "number"
                },
                "productiveHourCostRate": {
                  "type": "number"
                },
                "unproductiveHourCostRate": {
                  "type": "number"
                }
              }
            },
            "costs": {
              "type": "object",
              "description": "Product of performance data and cost rates",
              "properties": {
                "loadKilometerCosts": {
                  "type": "number"
                },
                "emptyKilometerCosts": {
                  "type": "number"
                },
                "productiveHoursCosts": {
                  "type": "number"
                },
                "unproductiveHoursCosts": {
                  "type": "number"
                }
              }
            },
            "turnover": {
              "type": "array",
              "description": "This information is collected from TMS systems and is broken down to orders or partial orders",
              "items": {
                "type": "object",
                "properties": {
                  "category": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  }
                }
              }
            },
            "expenses": {
              "type": "array",
              "description": "This information is collected from TMS systems. Expenses are order related additional (external) costs and are broken down to orders or partial orders",
              "items": {
                "type": "object",
                "properties": {
                  "category": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  }
                }
              }
            },
            "revenue": {
              "type": "object",
              "description": "Revenue sums up turnovers, expenses and costs",
              "properties": {
                "amount": {
                  "type": "number",
                  "description": "Absolute Amount"
                },
                "margin": {
                  "type": "number",
                  "description": "Percentage margin. Sum of costs and expenses devided by turnover."
                }
              }
            },
            "co2": {
              "type": "object",
              "properties": {
                "emissionTons": {
                  "type": "number",
                  "description": "Amount of CO2 emitted for an order or partial order."
                }
              }
            },
            "currency": {
              "type": "string",
              "description": "Currency used for all amounts"
            },
            "exchangeRate": {
              "type": "number",
              "description": "Exchange rate to base currency"
            },
            "accuracy": {
              "type": "object",
              "description": "Accuracy indicator for given data"
            }
          }
        }
      }
    }
  ],
  "analyticMapData": [
    {
      "type": "object",
      "title": "RouteAnalyzer Map Data (Analytic) Model",
      "description": "Draw heatmaps, symbols or similar features on a map to display business data",
      "properties": {
        "tenantId": {
          "type": "string"
        },
        "visualizationMethod": {
          "type": "string",
          "enum": ["choropleth", "point", "proportionalSymbol", "heatmap"]
        },
        "geoJsonFeatureCollection": {
          "type": "object",
          "description": "Contains location data and additional features to be used in map vizualization"
        }
      },
      "required": ["tenantId", "visualizationMethod"]
    }
  ],
  "fuelConsumptionChartData": {
    "dates": [
      "1 Jan",
      "3 Jan",
      "5 Jan",
      "7 Jan",
      "9 Jan",
      "11 Jan",
      "13 Jan",
      "15 Jan",
      "17 Jan",
      "19 Jan",
      "21 Jan",
      "23 Jan",
      "25 Jan",
      "27 Jan",
      "29 Jan",
      "31 Jan"
    ],
    "fuelConsumption": [26, 23, 27, 22, 31, 19, 33, 24, 28, 30, 32, 29, 34, 21, 30, 22]
  }
}
